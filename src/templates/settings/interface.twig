{% set title = "Interface Settings"|t('formie-rating-field') %}
{% set fullPageForm = not (readOnly ?? false) %}
{% set selectedSettingsItem = 'interface' %}
{% if readOnly ?? false %}
    {% set contentNotice = readOnlyNotice() %}
{% endif %}

{% extends "formie-rating-field/_layouts/settings" %}

{% set plugin = craft.app.plugins.getPlugin('formie-rating-field') %}
{% set crumbs = [
    {
        label: plugin.name|t('formie-rating-field'),
        url: url('formie-rating-field'),
    },
    {
        label: 'Settings'|t('formie-rating-field'),
        url: url('formie-rating-field/settings'),
    },
    {
        label: 'Interface'|t('formie-rating-field'),
        url: url('formie-rating-field/settings/interface'),
    },
] %}

{% import "_includes/forms" as forms %}

{% block content %}
<form method="post" accept-charset="UTF-8">
    {% if not (readOnly ?? false) %}
        {{ actionInput('formie-rating-field/settings/save') }}
        {{ csrfInput() }}
        {{ redirectInput('formie-rating-field/settings/interface') }}
    {% endif %}
    {{ hiddenInput('section', 'interface') }}

<fieldset style="margin-top: 0;">
	<h2>{{ 'Interface Settings'|t('formie-rating-field') }}</h2>

	{{ forms.textField({
        label: 'Items Per Page'|t('formie-rating-field'),
        instructions: 'Number of items to display per page in statistics lists'|t('formie-rating-field'),
        id: 'itemsPerPage',
        name: 'settings[itemsPerPage]',
        type: 'number',
        value: settings.itemsPerPage ?? 50,
        min: 10,
        max: 500,
        required: true,
        disabled: settings.isOverriddenByConfig('itemsPerPage'),
        warning: settings.isOverriddenByConfig('itemsPerPage') ?
            "This is being overridden by the <code>itemsPerPage</code> setting in <code>config/formie-rating-field.php</code>."|t('formie-rating-field')|raw : null,
        errors: settings.getErrors('itemsPerPage')
    }) }}

	{{ forms.selectField({
        label: 'Default Date Range'|t('formie-rating-field'),
        instructions: 'Default date range for statistics when first loading the page. Shorter ranges load faster.'|t('formie-rating-field'),
        id: 'defaultDateRange',
        name: 'settings[defaultDateRange]',
        value: settings.defaultDateRange ?? 'last30days',
        options: [
            { value: 'last7days', label: 'Last 7 Days'|t('formie-rating-field') },
            { value: 'last30days', label: 'Last 30 Days'|t('formie-rating-field') },
            { value: 'last90days', label: 'Last 90 Days'|t('formie-rating-field') },
            { value: 'all', label: 'All Time'|t('formie-rating-field') },
        ],
        disabled: settings.isOverriddenByConfig('defaultDateRange'),
        warning: settings.isOverriddenByConfig('defaultDateRange') ?
            "This is being overridden by the <code>defaultDateRange</code> setting in <code>config/formie-rating-field.php</code>."|t('formie-rating-field')|raw : null,
    }) }}
</fieldset>

<div class="buttons">
    <button type="submit" class="btn submit">{{ "Save Settings"|t('formie-rating-field') }}</button>
</div>
</form>

{% include 'lindemannrock-base/_components/plugin-credit' %}
{% endblock %}
